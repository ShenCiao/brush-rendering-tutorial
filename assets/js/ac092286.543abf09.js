"use strict";(self.webpackChunkbrush_stroke_tutorial=self.webpackChunkbrush_stroke_tutorial||[]).push([[364],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(r),h=a,m=p["".concat(l,".").concat(h)]||p[h]||d[h]||o;return r?n.createElement(m,i(i({ref:t},c),{},{components:r})):n.createElement(m,i({ref:t},c))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},4193:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>O,contentTitle:()=>S,default:()=>V,frontMatter:()=>E,metadata:()=>C,toc:()=>x});var n=r(7462),a=r(7294),o=r(3905),i=r(6010),s=r(2466),l=r(6550),u=r(1980),c=r(7392),p=r(12);function d(e){return function(e){return a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:a}}=e;return{value:t,label:r,attributes:n,default:a}}))}function h(e){const{values:t,children:r}=e;return(0,a.useMemo)((()=>{const e=t??d(r);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function m(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:r}=e;const n=(0,l.k6)(),o=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,u._X)(o),(0,a.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})}),[o,n])]}function g(e){const{defaultValue:t,queryString:r=!1,groupId:n}=e,o=h(e),[i,s]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:o}))),[l,u]=f({queryString:r,groupId:n}),[c,d]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,o]=(0,p.Nk)(r);return[n,(0,a.useCallback)((e=>{r&&o.set(e)}),[r,o])]}({groupId:n}),g=(()=>{const e=l??c;return m({value:e,tabValues:o})?e:null})();(0,a.useLayoutEffect)((()=>{g&&s(g)}),[g]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);s(e),u(e),d(e)}),[u,d,o]),tabValues:o}}var b=r(2389);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:r,selectedValue:o,selectValue:l,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,s.o5)(),d=e=>{const t=e.currentTarget,r=c.indexOf(t),n=u[r].value;n!==o&&(p(t),l(n))},h=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=c.indexOf(e.currentTarget)+1;t=c[r]??c[0];break}case"ArrowLeft":{const r=c.indexOf(e.currentTarget)-1;t=c[r]??c[c.length-1];break}}t?.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":r},t)},u.map((e=>{let{value:t,label:r,attributes:s}=e;return a.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>c.push(e),onKeyDown:h,onClick:d},s,{className:(0,i.Z)("tabs__item",y.tabItem,s?.className,{"tabs__item--active":o===t})}),r??t)})))}function v(e){let{lazy:t,children:r,selectedValue:n}=e;const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===n));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function w(e){const t=g(e);return a.createElement("div",{className:(0,i.Z)("tabs-container",y.tabList)},a.createElement(k,(0,n.Z)({},e,t)),a.createElement(v,(0,n.Z)({},e,t)))}function I(e){const t=(0,b.Z)();return a.createElement(w,(0,n.Z)({key:String(t)},e))}const N={tabItem:"tabItem_Ymn6"};function T(e){let{children:t,hidden:r,className:n}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(N.tabItem,n),hidden:r},t)}function P(){(0,a.useRef)();return a.createElement(a.Fragment,null,a.createElement(I,null,a.createElement(T,{value:"apple",label:"Apple",default:!0},"This is an apple \ud83c\udf4e"),a.createElement(T,{value:"orange",label:"Orange"},"This is an orange \ud83c\udf4a"),a.createElement(T,{value:"banana",label:"Banana"},"This is a banana \ud83c\udf4c")))}const E={title:"Introduction",sidebar_position:2},S=void 0,C={unversionedId:"Introduction/Introduction",id:"Introduction/Introduction",title:"Introduction",description:"This tutorial series will teach you how to use the modern GPU graphics pipeline to render brush strokes on vector curves.",source:"@site/docs/Introduction/Introduction.mdx",sourceDirName:"Introduction",slug:"/Introduction/",permalink:"/brush-stroke-tutorial/Introduction/",draft:!1,editUrl:"https://github.com/ShenCiao/brush-stroke-tutorial/tree/main/docs/Introduction/Introduction.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Introduction",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Table of Contents",permalink:"/brush-stroke-tutorial/"},next:{title:"Basics",permalink:"/brush-stroke-tutorial/category/basics"}},O={},x=[{value:"Modern GPU",id:"modern-gpu",level:2},{value:"Brush strokes",id:"brush-strokes",level:2},{value:"Vector curves",id:"vector-curves",level:2},{value:"Structure",id:"structure",level:2},{value:"Cite",id:"cite",level:2}],A={toc:x},D="wrapper";function V(e){let{components:t,...a}=e;return(0,o.kt)(D,(0,n.Z)({},A,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This tutorial series will teach you how to use the ",(0,o.kt)("strong",{parentName:"p"},"modern GPU")," graphics pipeline to render ",(0,o.kt)("strong",{parentName:"p"},"brush strokes")," on ",(0,o.kt)("strong",{parentName:"p"},"vector curves"),".\nThe contents mainly come from my research work ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ShenCiao/Ciallo"},"Ciallo: The next generation vector paint program"),".\nI will introduce this tutorial from the three aspects above."),(0,o.kt)("h2",{id:"modern-gpu"},"Modern GPU"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"sketchpad",src:r(8138).Z,width:"480",height:"360"})),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Draw lines in Ivan Sutherland's Sketchpad.")),(0,o.kt)("p",null,"Drawing lines or rendering strokes is one of the oldest topics in Computer Graphics.\nYou can easily find a lot of pioneering works, for example, ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm"},"Bresenham's line algorithm"),".\nThey emerged from an era with certain conditions:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Programs ran without the benefit of parallelization."),(0,o.kt)("li",{parentName:"ul"},"Programs could access framebuffer directly without significant performance penalty.")),(0,o.kt)("p",null,"But time has changed, now we have modern GPU hardware crafted for graphics and parallel computing,\nand directly accessing a GPU framebuffer from a CPU can significantly hurt the performance.\nSo old algorithms may not satisfy your needs for real-time rendering."),(0,o.kt)("p",null,"In this tutorial, you will learn about the stroke rendering algorithms designed for the GPU graphics pipeline.\nWe (I and my mentor ",(0,o.kt)("a",{parentName:"p",href:"https://www.liyiwei.org/"},"Liyi-Wei"),") name these algorithms as ",(0,o.kt)("em",{parentName:"p"},"Articulated")," in our paper (mainly because they look like drawing an articulated arm).\nI assume our readers are already familiar with a graphics API like OpenGL or D3D.\nThis tutorial will concentrate more on the high-level algorithms than the implementation details."),(0,o.kt)("p",null,"Although graphics APIs provide us line primitives, including ",(0,o.kt)("inlineCode",{parentName:"p"},"LINES"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"LINE_STRIP"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"LINE_LOOP"),",\nthere are several well-known issues when using these primitives directly.\nCheck out Matt Deslauries' article ",(0,o.kt)("a",{parentName:"p",href:"https://mattdesl.svbtle.com/drawing-lines-is-hard#line-primitives_1"},"Drawing Lines is Hard")," if you know nothing about them.\nAs for us, the most significant issue is the limitation on the maximum line width or stroke radius.\nWe must be able to fully control the radius values when rendering brush strokes."),(0,o.kt)("h2",{id:"brush-strokes"},"Brush strokes"),(0,o.kt)("p",null,"Brush strokes refer to strokes drawn with the paint tool in graphics software such as Photoshop or Krita.\nArtists configure their digital brushes to control stroke properties like radius or stylization,\nthen stroke on the canvas with dedicated input devices: Tablet and Stylus.\nIf you're unfamiliar with tablets and styluses, you can watch the video below for more information:"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?app=desktop&v=83BRMfjJXIk"},(0,o.kt)("img",{parentName:"a",src:"https://img.youtube.com/vi/83BRMfjJXIk/maxresdefault.jpg",alt:"Tablet"}))),(0,o.kt)("p",null,"While you may recognize a brush stroke by its stylization, another crucial property could be ignored: the varying radius along the stroke, we will call it ",(0,o.kt)("strong",{parentName:"p"},"mutable radius")," here.\nThe radii are typically generated from the pressure values as a stylus presses and moves on a tablet.\nFor experienced artists, one of the highest priorities is to configure the mapping function from pen pressure to brush radius after installing a painting program."),(0,o.kt)("p",null,'In this tutorial, you will learn to render a stroke with mutable radius, and the most popular way to stylize it called "Stamp."\nYou cannot find them elsewhere since they come from our own research.\nAdditionally, GPU brush stroke rendering a newly emerged topic.\nResearchers will develop more novel methods in the future.\nSo I will continuously update this tutorial series to teach them.\nMake sure to star our ',(0,o.kt)("a",{parentName:"p",href:"https://github.com/ShenCiao/BrushStrokeTutorial"},"code repository")," for easy access to the latest updates."),(0,o.kt)("h2",{id:"vector-curves"},"Vector curves"),(0,o.kt)("p",null,"Mutable radius is imperative for the most artists when working on digital painting,\nbut it's not defined in public vector standards like SVG.\nThis limitation is one of the primary reasons why lots of digital artists don't use vector workflow.\n(Another one is filling color.)"),(0,o.kt)("p",null,"To support the mutable radius, we will render a unique type of vector curve:\nAn ordered list of points (polyline) with radius values assigned to each point.\nAs a stylus is pressed and moved on a tablet, the program generate a sequence of points to record the trace of movement.\nAdditionally, the pen pressure is transformed into the radius value assigned to each point."),(0,o.kt)("p",null,"We can approximate any type of curve by increasing the number of points in a polyline, whether freehand-drawn or mathematically defined."),(0,o.kt)("h2",{id:"structure"},"Structure"),(0,o.kt)("p",null,"Although the algorithms are very straightforward, I know how hard it could be to learn and replicate a research work.\nThat's why I created this tutorial, designed with a smooth learning curve and providing seamless coding environments."),(0,o.kt)("p",null,"Start with the Basic part, which covers the basics of the rendering methods.\nPlease read the articles in the Basic part in order, or you may miss something important.\nNext, select your favorite topics to learn.\nI will list the extra prerequisites at the very beginning of the articles."),(0,o.kt)("p",null,"Wish you happy learning!"),(0,o.kt)("h2",{id:"cite"},"Cite"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"@inproceedings{Ciallo2023,\n    author = {Ciao, Shen and Wei, Li-Yi},\n    title = {Ciallo: The next-Generation Vector Paint Program},\n    year = {2023},\n    isbn = {9798400701436},\n    publisher = {Association for Computing Machinery},\n    address = {New York, NY, USA},\n    url = {https://doi.org/10.1145/3587421.3595418},\n    doi = {10.1145/3587421.3595418},\n    booktitle = {ACM SIGGRAPH 2023 Talks},\n    articleno = {67},\n    numpages = {2},\n    keywords = {Digital painting, stylized stroke, arrangement, vector graphics. coloring, graphics processing unit (GPU)},\n    location = {Los Angeles, CA, USA},\n    series = {SIGGRAPH '23}\n}\n")),(0,o.kt)("admonition",{title:"Research Tip",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"To demonstrate your research work, select vector drawings have mutable radius or pen pressure data.\nRegular vector drawing datasets don't contain them."),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"Zeyu Wang's work: ",(0,o.kt)("a",{parentName:"li",href:"https://dl.acm.org/doi/10.1145/3450626.3459819"},"Paper")," | ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/zachzeyuwang/tracing-vs-freehand"},"Dataset")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://cloud.blender.org/p/gallery/5b642e25bf419c1042056fc6"},"Blender Grease Pencil")),(0,o.kt)("li",{parentName:"ul"},"Tell me more..."))),(0,o.kt)(P,{mdxType:"ArticulatedLine2D"}))}V.isMDXComponent=!0},8138:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/sketchpad-be46fe81f29f99371fdce79d1452ae85.gif"}}]);